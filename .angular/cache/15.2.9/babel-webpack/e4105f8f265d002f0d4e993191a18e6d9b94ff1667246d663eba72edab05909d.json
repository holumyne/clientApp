{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/basket/basket.service\";\nfunction BasketSummaryComponent_div_0_th_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\")(1, \"div\", 4);\n    i0.ɵɵtext(2, \"Remove\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction BasketSummaryComponent_div_0_tr_18_i_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"i\", 19);\n    i0.ɵɵlistener(\"click\", function BasketSummaryComponent_div_0_tr_18_i_16_Template_i_click_0_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const item_r4 = i0.ɵɵnextContext().$implicit;\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r8.removeBasketItem(item_r4.id, 1));\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nfunction BasketSummaryComponent_div_0_tr_18_i_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"i\", 20);\n    i0.ɵɵlistener(\"click\", function BasketSummaryComponent_div_0_tr_18_i_19_Template_i_click_0_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const item_r4 = i0.ɵɵnextContext().$implicit;\n      const ctx_r11 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r11.addBasketItem(item_r4));\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nfunction BasketSummaryComponent_div_0_tr_18_td_24_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 13)(1, \"a\", 21)(2, \"i\", 22);\n    i0.ɵɵlistener(\"click\", function BasketSummaryComponent_div_0_tr_18_td_24_Template_i_click_2_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const item_r4 = i0.ɵɵnextContext().$implicit;\n      const ctx_r14 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r14.removeBasketItem(item_r4.id, item_r4.quantity));\n    });\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction BasketSummaryComponent_div_0_tr_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"th\")(2, \"div\", 7);\n    i0.ɵɵelement(3, \"img\", 8);\n    i0.ɵɵelementStart(4, \"div\", 9)(5, \"h5\", 10)(6, \"a\", 11);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"span\", 12);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(10, \"td\", 13)(11, \"strong\");\n    i0.ɵɵtext(12);\n    i0.ɵɵpipe(13, \"currency\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"td\", 13)(15, \"div\", 14);\n    i0.ɵɵtemplate(16, BasketSummaryComponent_div_0_tr_18_i_16_Template, 1, 0, \"i\", 15);\n    i0.ɵɵelementStart(17, \"strong\", 16);\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(19, BasketSummaryComponent_div_0_tr_18_i_19_Template, 1, 0, \"i\", 17);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(20, \"td\", 13)(21, \"strong\");\n    i0.ɵɵtext(22);\n    i0.ɵɵpipe(23, \"currency\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(24, BasketSummaryComponent_div_0_tr_18_td_24_Template, 3, 0, \"td\", 18);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r4 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"src\", item_r4.pictureUrl, i0.ɵɵsanitizeUrl);\n    i0.ɵɵpropertyInterpolate(\"alt\", item_r4.productName);\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/shop/\", item_r4.id, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", item_r4.productName, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Type: \", item_r4.type, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(13, 13, item_r4.price));\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassProp(\"justify-content-center\", !ctx_r3.isBasket);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.isBasket);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r4.quantity);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.isBasket);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(23, 15, item_r4.price * item_r4.quantity));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.isBasket);\n  }\n}\nfunction BasketSummaryComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"table\", 2)(2, \"thead\", 3)(3, \"tr\")(4, \"th\")(5, \"div\", 4);\n    i0.ɵɵtext(6, \"Product\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"th\")(8, \"div\", 4);\n    i0.ɵɵtext(9, \"Price\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"th\")(11, \"div\", 4);\n    i0.ɵɵtext(12, \"Quantity\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"th\")(14, \"div\", 4);\n    i0.ɵɵtext(15, \"Total\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(16, BasketSummaryComponent_div_0_th_16_Template, 3, 0, \"th\", 5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"tbody\");\n    i0.ɵɵtemplate(18, BasketSummaryComponent_div_0_tr_18_Template, 25, 17, \"tr\", 6);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const basket_r1 = ctx.ngIf;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassProp(\"bg-light\", ctx_r0.isBasket);\n    i0.ɵɵadvance(8);\n    i0.ɵɵclassProp(\"text-center\", !ctx_r0.isBasket);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isBasket);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", basket_r1.items);\n  }\n}\nexport class BasketSummaryComponent {\n  constructor(basketService) {\n    this.basketService = basketService;\n    this.addItem = new EventEmitter();\n    this.removeItem = new EventEmitter();\n    this.isBasket = true;\n  }\n  addBasketItem(item) {\n    this.addItem.emit(item);\n  }\n  removeBasketItem(id, quantity = 1) {\n    this.removeItem.emit({\n      id,\n      quantity\n    });\n  }\n}\nBasketSummaryComponent.ɵfac = function BasketSummaryComponent_Factory(t) {\n  return new (t || BasketSummaryComponent)(i0.ɵɵdirectiveInject(i1.BasketService));\n};\nBasketSummaryComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: BasketSummaryComponent,\n  selectors: [[\"app-basket-summary\"]],\n  inputs: {\n    isBasket: \"isBasket\"\n  },\n  outputs: {\n    addItem: \"addItem\",\n    removeItem: \"removeItem\"\n  },\n  decls: 2,\n  vars: 3,\n  consts: [[\"class\", \"table-responsive\", 4, \"ngIf\"], [1, \"table-responsive\"], [1, \"table\"], [1, \"text-uppercase\"], [1, \"py-2\"], [4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [1, \"p-2\", \"d-inline-block\"], [1, \"img-fluid\", 2, \"max-height\", \"50px\", 3, \"src\", \"alt\"], [1, \"ms-3\", \"d-inline-block\", \"align-middle\"], [1, \"mb-0\"], [1, \"text-dark\", \"text-decoration-none\", 3, \"routerLink\"], [1, \"text-muted\", \"fst-italic\"], [1, \"align-middle\"], [1, \"d-flex\", \"align-items-center\"], [\"class\", \"fa fa-minus-circle text-warning me-2\", \"style\", \"cursor: pointer; font-size: 2em;\", 3, \"click\", 4, \"ngIf\"], [2, \"font-size\", \"1.2em\"], [\"class\", \"fa fa-plus-circle text-warning mx-2\", \"style\", \"cursor: pointer; font-size: 2em;\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"align-middle\", 4, \"ngIf\"], [1, \"fa\", \"fa-minus-circle\", \"text-warning\", \"me-2\", 2, \"cursor\", \"pointer\", \"font-size\", \"2em\", 3, \"click\"], [1, \"fa\", \"fa-plus-circle\", \"text-warning\", \"mx-2\", 2, \"cursor\", \"pointer\", \"font-size\", \"2em\", 3, \"click\"], [1, \"text-danger\"], [1, \"fa\", \"fa-trash\", 2, \"font-size\", \"2em\", \"cursor\", \"pointer\", 3, \"click\"]],\n  template: function BasketSummaryComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, BasketSummaryComponent_div_0_Template, 19, 6, \"div\", 0);\n      i0.ɵɵpipe(1, \"async\");\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.basketService.basketSource$));\n    }\n  },\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AAAA,SAAoBA,YAAY,QAAuB,eAAe;;;;;ICQtDC,0BAAqB;IAAkBA,sBAAM;IAAAA,iBAAM;;;;;;IAwB3CA,6BACgF;IAAvCA;MAAAA;MAAA;MAAA;MAAA,OAASA,mDAA0B,CAAC,CAAC;IAAA,EAAC;IAACA,iBAAI;;;;;;IAEpFA,6BACwE;IAA9BA;MAAAA;MAAA;MAAA;MAAA,OAASA,6CAAmB;IAAA,EAAC;IAACA,iBAAI;;;;;;IAIpFA,8BAA0C;IAE/BA;MAAAA;MAAA;MAAA;MAAA,OAASA,qEAAwC;IAAA,EAAC;IACZA,iBAAI;;;;;IA/BzDA,0BAAsC;IAG1BA,yBAC8B;IAC9BA,8BAA8C;IAGlCA,YACJ;IAAAA,iBAAI;IAERA,gCAAoC;IAChCA,YACJ;IAAAA,iBAAO;IAInBA,+BAAyB;IAAQA,aAAyB;;IAAAA,iBAAS;IACnEA,+BAAyB;IAEjBA,kFACoF;IACpFA,mCAAkC;IAAAA,aAAiB;IAAAA,iBAAS;IAC5DA,kFAC4E;IAChFA,iBAAM;IAEVA,+BAAyB;IAAQA,aAAyC;;IAAAA,iBAAS;IACnFA,oFAKK;IACTA,iBAAK;;;;;IA/BYA,eAAyB;IAAzBA,qEAAyB;IAACA,oDAA0B;IAI9CA,eAA8B;IAA9BA,iEAA8B;IAC7BA,eACJ;IADIA,oDACJ;IAGAA,eACJ;IADIA,mDACJ;IAIqBA,eAAyB;IAAzBA,2DAAyB;IAEfA,eAA0C;IAA1CA,0DAA0C;IACzEA,eAAc;IAAdA,sCAAc;IAEgBA,eAAiB;IAAjBA,sCAAiB;IAC/CA,eAAc;IAAdA,sCAAc;IAIOA,eAAyC;IAAzCA,8EAAyC;IAChDA,eAAc;IAAdA,sCAAc;;;;;IAxCxDA,8BAAsF;IAIhDA,uBAAO;IAAAA,iBAAM;IACnCA,0BAAI;IAAkBA,qBAAK;IAAAA,iBAAM;IACjCA,2BAAoC;IAAkBA,yBAAQ;IAAAA,iBAAM;IACpEA,2BAAI;IAAkBA,sBAAK;IAAAA,iBAAM;IACjCA,6EAAwD;IAC5DA,iBAAK;IAETA,8BAAO;IACHA,+EAkCK;IACTA,iBAAQ;;;;;IA7CsBA,eAA2B;IAA3BA,2CAA2B;IAI7CA,eAA+B;IAA/BA,+CAA+B;IAE9BA,eAAc;IAAdA,sCAAc;IAIFA,eAAe;IAAfA,yCAAe;;;ADHhD,OAAM,MAAOC,sBAAsB;EAKjCC,YAAmBC,aAA4B;IAA5B,kBAAa,GAAbA,aAAa;IAJtB,YAAO,GAAG,IAAIJ,YAAY,EAAc;IACxC,eAAU,GAAG,IAAIA,YAAY,EAAkC;IAChE,aAAQ,GAAG,IAAI;EAE0B;EAElDK,aAAa,CAACC,IAAgB;IAC5B,IAAI,CAACC,OAAO,CAACC,IAAI,CAACF,IAAI,CAAC;EACzB;EAEAG,gBAAgB,CAACC,EAAU,EAAEC,QAAQ,GAAG,CAAC;IACvC,IAAI,CAACC,UAAU,CAACJ,IAAI,CAAC;MAACE,EAAE;MAAEC;IAAQ,CAAC,CAAC;EACtC;;AAbWT,sBAAsB;mBAAtBA,sBAAsB;AAAA;AAAtBA,sBAAsB;QAAtBA,sBAAsB;EAAAW;EAAAC;IAAAC;EAAA;EAAAC;IAAAT;IAAAK;EAAA;EAAAK;EAAAC;EAAAC;EAAAC;IAAA;MCTnCnB,wEAiDM;;;;MAjDyBA,4EAA4C","names":["EventEmitter","i0","BasketSummaryComponent","constructor","basketService","addBasketItem","item","addItem","emit","removeBasketItem","id","quantity","removeItem","selectors","inputs","isBasket","outputs","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\olumi\\Desktop\\ECommerce\\client\\src\\app\\shared\\basket-summary\\basket-summary.component.ts","C:\\Users\\olumi\\Desktop\\ECommerce\\client\\src\\app\\shared\\basket-summary\\basket-summary.component.html"],"sourcesContent":["import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { BasketService } from 'src/app/basket/basket.service';\nimport { BasketItem } from '../models/basket';\n\n@Component({\n  selector: 'app-basket-summary',\n  templateUrl: './basket-summary.component.html',\n  styleUrls: ['./basket-summary.component.scss']\n})\nexport class BasketSummaryComponent {\n  @Output() addItem = new EventEmitter<BasketItem>();\n  @Output() removeItem = new EventEmitter<{id: number, quantity: number}>();\n  @Input() isBasket = true;\n\n  constructor(public basketService: BasketService) {}\n\n  addBasketItem(item: BasketItem) {\n    this.addItem.emit(item)\n  }\n\n  removeBasketItem(id: number, quantity = 1) {\n    this.removeItem.emit({id, quantity})\n  }\n}\n","<div class=\"table-responsive\" *ngIf=\"(basketService.basketSource$ | async) as basket\">\n    <table class=\"table\">\n        <thead class=\"text-uppercase\" [class.bg-light]=\"isBasket\">\n            <tr>\n                <th><div class=\"py-2\">Product</div></th>\n                <th><div class=\"py-2\">Price</div></th>\n                <th [class.text-center]=\"!isBasket\"><div class=\"py-2\">Quantity</div></th>\n                <th><div class=\"py-2\">Total</div></th>\n                <th *ngIf=\"isBasket\"><div class=\"py-2\">Remove</div></th>\n            </tr>\n        </thead>\n        <tbody>\n            <tr *ngFor=\"let item of basket.items\">\n                <th>\n                    <div class=\"p-2 d-inline-block\">\n                        <img src=\"{{item.pictureUrl}}\" alt=\"{{item.productName}}\" class=\"img-fluid\"\n                            style=\"max-height: 50px;\">\n                        <div class=\"ms-3 d-inline-block align-middle\">\n                            <h5 class=\"mb-0\">\n                                <a routerLink=\"/shop/{{item.id}}\" class=\"text-dark text-decoration-none\">\n                                    {{item.productName}}\n                                </a>\n                            </h5>\n                            <span class=\"text-muted fst-italic\">\n                                Type: {{item.type}}\n                            </span>\n                        </div>\n                    </div>\n                </th>\n                <td class=\"align-middle\"><strong>{{item.price | currency}}</strong></td>\n                <td class=\"align-middle\">\n                    <div class=\"d-flex align-items-center\" [class.justify-content-center]=\"!isBasket\">\n                        <i *ngIf=\"isBasket\" class=\"fa fa-minus-circle text-warning me-2\" \n                        style=\"cursor: pointer; font-size: 2em;\" (click)=\"removeBasketItem(item.id, 1)\"></i>\n                        <strong style=\"font-size: 1.2em;\">{{item.quantity}}</strong>\n                        <i *ngIf=\"isBasket\" class=\"fa fa-plus-circle text-warning mx-2\"\n                         style=\"cursor: pointer; font-size: 2em;\" (click)=\"addBasketItem(item)\"></i>\n                    </div>\n                </td>\n                <td class=\"align-middle\"><strong>{{item.price * item.quantity | currency}}</strong></td>\n                <td class=\"align-middle\" *ngIf=\"isBasket\">\n                    <a class=\"text-danger\">\n                        <i (click)=\"removeBasketItem(item.id, item.quantity)\" class=\"fa fa-trash\" \n                        style=\"font-size: 2em; cursor: pointer;\"></i>\n                    </a>\n                </td>\n            </tr>\n        </tbody>\n    </table>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}