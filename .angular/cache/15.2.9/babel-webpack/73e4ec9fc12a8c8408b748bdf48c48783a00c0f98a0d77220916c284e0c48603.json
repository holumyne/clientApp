{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/account/account.service\";\nimport * as i2 from \"ngx-toastr\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"../../shared/components/text-input/text-input.component\";\nimport * as i7 from \"@angular/cdk/stepper\";\nfunction CheckoutAddressComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 6)(1, \"div\", 7)(2, \"h4\");\n    i0.ɵɵtext(3, \"Shipping address\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function CheckoutAddressComponent_div_0_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.saveUserAddress());\n    });\n    i0.ɵɵtext(5, \" Save as default address \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 9)(7, \"div\", 10);\n    i0.ɵɵelement(8, \"app-text-input\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 10);\n    i0.ɵɵelement(10, \"app-text-input\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 10);\n    i0.ɵɵelement(12, \"app-text-input\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 10);\n    i0.ɵɵelement(14, \"app-text-input\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"div\", 10);\n    i0.ɵɵelement(16, \"app-text-input\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"div\", 10);\n    i0.ɵɵelement(18, \"app-text-input\", 16);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    let tmp_1_0;\n    i0.ɵɵproperty(\"formGroup\", ctx_r0.checkoutForm);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"disabled\", !((tmp_1_0 = ctx_r0.checkoutForm.get(\"addressForm\")) == null ? null : tmp_1_0.valid) || !((tmp_1_0 = ctx_r0.checkoutForm.get(\"addressForm\")) == null ? null : tmp_1_0.dirty));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"label\", \"First name\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"label\", \"Last name\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"label\", \"Street\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"label\", \"City\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"label\", \"State\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"label\", \"Zip code\");\n  }\n}\nexport let CheckoutAddressComponent = /*#__PURE__*/(() => {\n  class CheckoutAddressComponent {\n    constructor(accountService, toastr) {\n      this.accountService = accountService;\n      this.toastr = toastr;\n    }\n    saveUserAddress() {\n      this.accountService.updateUserAddress(this.checkoutForm?.get('addressForm')?.value).subscribe({\n        next: () => {\n          this.toastr.success('Address saved');\n          this.checkoutForm?.get('addressForm')?.reset(this.checkoutForm?.get('addressForm')?.value); // reset the form after saved\n        }\n      });\n    }\n  }\n\n  CheckoutAddressComponent.ɵfac = function CheckoutAddressComponent_Factory(t) {\n    return new (t || CheckoutAddressComponent)(i0.ɵɵdirectiveInject(i1.AccountService), i0.ɵɵdirectiveInject(i2.ToastrService));\n  };\n  CheckoutAddressComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CheckoutAddressComponent,\n    selectors: [[\"app-checkout-address\"]],\n    inputs: {\n      checkoutForm: \"checkoutForm\"\n    },\n    decls: 8,\n    vars: 2,\n    consts: [[\"class\", \"mt-4\", 3, \"formGroup\", 4, \"ngIf\"], [1, \"d-flex\", \"justify-content-between\", \"flex-row\", \"mb-5\"], [\"routerLink\", \"/basket\", 1, \"btn\", \"btn-outline-primary\"], [1, \"fa\", \"fa-angle-left\"], [\"cdkStepperNext\", \"\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [1, \"fa\", \"fa-angle-right\"], [1, \"mt-4\", 3, \"formGroup\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-center\"], [1, \"btn\", \"btn-outline-success\", \"mb-3\", 3, \"disabled\", \"click\"], [\"formGroupName\", \"addressForm\", 1, \"row\"], [1, \"form-group\", \"col-6\"], [\"formControlName\", \"firstName\", 3, \"label\"], [\"formControlName\", \"lastName\", 3, \"label\"], [\"formControlName\", \"street\", 3, \"label\"], [\"formControlName\", \"city\", 3, \"label\"], [\"formControlName\", \"state\", 3, \"label\"], [\"formControlName\", \"zipcode\", 3, \"label\"]],\n    template: function CheckoutAddressComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, CheckoutAddressComponent_div_0_Template, 19, 8, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1)(2, \"button\", 2);\n        i0.ɵɵelement(3, \"i\", 3);\n        i0.ɵɵtext(4, \" Back to basket \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"button\", 4);\n        i0.ɵɵtext(6, \" Go to Delivery \");\n        i0.ɵɵelement(7, \"i\", 5);\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        let tmp_1_0;\n        i0.ɵɵproperty(\"ngIf\", ctx.checkoutForm);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"disabled\", ctx.checkoutForm == null ? null : (tmp_1_0 = ctx.checkoutForm.get(\"addressForm\")) == null ? null : tmp_1_0.invalid);\n      }\n    },\n    dependencies: [i3.NgIf, i4.RouterLink, i5.NgControlStatus, i5.NgControlStatusGroup, i5.FormGroupDirective, i5.FormControlName, i5.FormGroupName, i6.TextInputComponent, i7.CdkStepperNext]\n  });\n  return CheckoutAddressComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}