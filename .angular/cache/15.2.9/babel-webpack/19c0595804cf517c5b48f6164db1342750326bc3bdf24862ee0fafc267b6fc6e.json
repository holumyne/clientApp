{"ast":null,"code":"import { inject } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { map } from 'rxjs';\nimport { AccountService } from 'src/app/account/account.service';\n// Injectable({\n//   providedIn: 'root'\n// })\nexport const AuthGuard = (route, state) => {\n  const router = inject(Router);\n  const accountService = inject(AccountService);\n  return accountService.currentUser$.pipe(map(auth => {\n    if (auth) return true;else {\n      router.navigate(['/account/login'], {\n        queryParams: {\n          returnUrl: state.url\n        }\n      }); //this will redirect user to login component if they are not signed in\n      return false;\n    }\n  }));\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}